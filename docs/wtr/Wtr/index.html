<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Wtr (wtr.Wtr)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 244b5317d"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">wtr</a> &#x00BB; Wtr</nav><header class="odoc-preamble"><h1>Module <code><span>Wtr</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#types">Types</a></li><li><a href="#http-method">HTTP Method</a></li><li><a href="#custom-decoder">Custom Decoder</a></li><li><a href="#uri-combinators">URI Combinators</a><ul><li><a href="#path">Path</a></li><li><a href="#query">Query</a></li></ul></li><li><a href="#route-and-router">Route and Router</a></li><li><a href="#pp">Pretty Printers</a></li></ul></nav><div class="odoc-content"><h2 id="types"><a href="#types" class="anchor"></a>Types</h2><div class="odoc-spec"><div class="spec type" id="type-router" class="anchored"><a href="#type-router" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a router</span></span></code></div><div class="spec-doc"><p>A <a href="#type-router"><code>router</code></a> consists of one or many HTTP request <a href="#type-route"><code>route</code></a>s. These routes are used to match a given HTTP request target using a radix trie algorithm.</p><p><code>'a</code> represents the value returned after matching a given HTTP request target and executing the corresponding route handler.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-route" class="anchored"><a href="#type-route" class="anchor"></a><code><span><span class="keyword">and</span> <span>'a route</span></span></code></div><div class="spec-doc"><p><a href="#type-route"><code>route</code></a> is a HTTP request route. A route consists of a HTTP <a href="#type-method'"><code>method'</code></a>, a <a href="#type-uri"><code>uri</code></a> and a route handler. <code>'a</code> represents the value returned by the handler. It corresponds to <code>'a</code> in <a href="#type-router"><code>router</code></a>.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-uri" class="anchored"><a href="#type-uri" class="anchor"></a><code><span><span class="keyword">and</span> <span>('a, 'b) uri</span></span></code></div><div class="spec-doc"><p><a href="#type-uri"><code>uri</code></a> represents a concatenation of <a href="#type-path"><code>path</code></a> and <a href="#type-query"><code>query</code></a> in a route, e.g. <code>/home/about/</code>, <code>/home/contact</code>, <code>/home/contact?name=a&amp;no=123</code>.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-path" class="anchored"><a href="#type-path" class="anchor"></a><code><span><span class="keyword">and</span> <span>('a, 'b) path</span></span></code></div><div class="spec-doc"><p><a href="#type-path"><code>path</code></a> is a HTTP uri path component, e.g.<code>/</code>, <code>/home/about</code>, <code>/home/contact/</code>. Consult <a href="#path">path combinators</a> for creating values of this type.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-query" class="anchored"><a href="#type-query" class="anchor"></a><code><span><span class="keyword">and</span> <span>('a, 'b) query</span></span></code></div><div class="spec-doc"><p><a href="#type-query"><code>query</code></a> is a HTTP uri query component. For a given HTTP uri <code>/home/about?a=2&amp;b=3</code>, all tokens after <code>?</code> is a <a href="#type-query"><code>query</code></a>, i.e. <code>a=2&amp;b=3</code>. Consult <a href="#query">query combinators</a> for creating values of this type.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-method'" class="anchored"><a href="#type-method'" class="anchor"></a><code><span><span class="keyword">and</span> method'</span><span> = </span><span>[ </span></code><table><tr id="type-method'.GET" class="anchored"><td class="def constructor"><a href="#type-method'.GET" class="anchor"></a><code><span>| </span></code><code><span>`GET</span></code></td></tr><tr id="type-method'.HEAD" class="anchored"><td class="def constructor"><a href="#type-method'.HEAD" class="anchor"></a><code><span>| </span></code><code><span>`HEAD</span></code></td></tr><tr id="type-method'.POST" class="anchored"><td class="def constructor"><a href="#type-method'.POST" class="anchor"></a><code><span>| </span></code><code><span>`POST</span></code></td></tr><tr id="type-method'.PUT" class="anchored"><td class="def constructor"><a href="#type-method'.PUT" class="anchor"></a><code><span>| </span></code><code><span>`PUT</span></code></td></tr><tr id="type-method'.DELETE" class="anchored"><td class="def constructor"><a href="#type-method'.DELETE" class="anchor"></a><code><span>| </span></code><code><span>`DELETE</span></code></td></tr><tr id="type-method'.CONNECT" class="anchored"><td class="def constructor"><a href="#type-method'.CONNECT" class="anchor"></a><code><span>| </span></code><code><span>`CONNECT</span></code></td></tr><tr id="type-method'.OPTIONS" class="anchored"><td class="def constructor"><a href="#type-method'.OPTIONS" class="anchor"></a><code><span>| </span></code><code><span>`OPTIONS</span></code></td></tr><tr id="type-method'.TRACE" class="anchored"><td class="def constructor"><a href="#type-method'.TRACE" class="anchor"></a><code><span>| </span></code><code><span>`TRACE</span></code></td></tr><tr id="type-method'.Method" class="anchored"><td class="def constructor"><a href="#type-method'.Method" class="anchor"></a><code><span>| </span></code><code><span>`Method <span class="keyword">of</span> string</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p><a href="#type-method'"><code>method'</code></a> is a HTTP request method.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-decoder" class="anchored"><a href="#type-decoder" class="anchor"></a><code><span><span class="keyword">and</span> <span>'a decoder</span></span></code></div><div class="spec-doc"><p><a href="#type-decoder"><code>decoder</code></a> is a uri component which is responsible for decoding uri components - both path and query - from a string value to <code>'a</code>.</p></div></div><h2 id="http-method"><a href="#http-method" class="anchor"></a>HTTP Method</h2><div class="odoc-spec"><div class="spec value" id="val-method_equal" class="anchored"><a href="#val-method_equal" class="anchor"></a><code><span><span class="keyword">val</span> method_equal : <span><a href="#type-method'">method'</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-method'">method'</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-method'" class="anchored"><a href="#val-method'" class="anchor"></a><code><span><span class="keyword">val</span> method' : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-method'">method'</a></span></code></div></div><h2 id="custom-decoder"><a href="#custom-decoder" class="anchor"></a>Custom Decoder</h2><div class="odoc-spec"><div class="spec value" id="val-decoder" class="anchored"><a href="#val-decoder" class="anchor"></a><code><span><span class="keyword">val</span> decoder : <span>name:string <span class="arrow">&#45;&gt;</span></span> <span>decode:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-decoder">decoder</a></span></span></code></div><div class="spec-doc"><p><code>decoder ~name ~decode</code> creates a user defined custom uri decoder component. <code>name</code> is used during the pretty printing of <code>uri</code>.</p></div></div><h2 id="uri-combinators"><a href="#uri-combinators" class="anchor"></a>URI Combinators</h2><div class="odoc-spec"><div class="spec value" id="val-end'" class="anchored"><a href="#val-end'" class="anchor"></a><code><span><span class="keyword">val</span> end' : <span><span>(<span class="type-var">'b</span>, <span class="type-var">'b</span>)</span> <a href="#type-uri">uri</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(/?)" class="anchored"><a href="#val-(/?)" class="anchor"></a><code><span><span class="keyword">val</span> (/?) : <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(/?.)" class="anchored"><a href="#val-(/?.)" class="anchor"></a><code><span><span class="keyword">val</span> (/?.) : <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-path">path</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-uri">uri</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-uri">uri</a></span></span></code></div></div><h3 id="path"><a href="#path" class="anchor"></a>Path</h3><div class="odoc-spec"><div class="spec value" id="val-(/)" class="anchored"><a href="#val-(/)" class="anchor"></a><code><span><span class="keyword">val</span> (/) : <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-int" class="anchored"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-int32" class="anchored"><a href="#val-int32" class="anchor"></a><code><span><span class="keyword">val</span> int32 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int32 <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-int64" class="anchored"><a href="#val-int64" class="anchor"></a><code><span><span class="keyword">val</span> int64 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int64 <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-float" class="anchored"><a href="#val-float" class="anchor"></a><code><span><span class="keyword">val</span> float : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bool" class="anchored"><a href="#val-bool" class="anchor"></a><code><span><span class="keyword">val</span> bool : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>bool <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-string" class="anchored"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-decode" class="anchored"><a href="#val-decode" class="anchor"></a><code><span><span class="keyword">val</span> decode : <span><span><span class="type-var">'c</span> <a href="#type-decoder">decoder</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lit" class="anchored"><a href="#val-lit" class="anchor"></a><code><span><span class="keyword">val</span> lit : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pend" class="anchored"><a href="#val-pend" class="anchor"></a><code><span><span class="keyword">val</span> pend : <span><span>(<span class="type-var">'b</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-splat" class="anchored"><a href="#val-splat" class="anchor"></a><code><span><span class="keyword">val</span> splat : <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-slash" class="anchored"><a href="#val-slash" class="anchor"></a><code><span><span class="keyword">val</span> slash : <span><span>(<span class="type-var">'b</span>, <span class="type-var">'b</span>)</span> <a href="#type-path">path</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(/.)" class="anchored"><a href="#val-(/.)" class="anchor"></a><code><span><span class="keyword">val</span> (/.) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-path">path</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-uri">uri</a></span></span></code></div></div><h3 id="query"><a href="#query" class="anchor"></a>Query</h3><div class="odoc-spec"><div class="spec value" id="val-(/&amp;)" class="anchored"><a href="#val-(/&amp;)" class="anchor"></a><code><span><span class="keyword">val</span> (/&amp;) : <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qint" class="anchored"><a href="#val-qint" class="anchor"></a><code><span><span class="keyword">val</span> qint : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qint32" class="anchored"><a href="#val-qint32" class="anchor"></a><code><span><span class="keyword">val</span> qint32 : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int32 <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qint64" class="anchored"><a href="#val-qint64" class="anchor"></a><code><span><span class="keyword">val</span> qint64 : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int64 <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qfloat" class="anchored"><a href="#val-qfloat" class="anchor"></a><code><span><span class="keyword">val</span> qfloat : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qbool" class="anchored"><a href="#val-qbool" class="anchor"></a><code><span><span class="keyword">val</span> qbool : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>bool <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qstring" class="anchored"><a href="#val-qstring" class="anchor"></a><code><span><span class="keyword">val</span> qstring : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qdecode" class="anchored"><a href="#val-qdecode" class="anchor"></a><code><span><span class="keyword">val</span> qdecode : <span><span>(string * <span><span class="type-var">'c</span> <a href="#type-decoder">decoder</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-qlit" class="anchored"><a href="#val-qlit" class="anchor"></a><code><span><span class="keyword">val</span> qlit : <span><span>(string * string)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-query">query</a></span></span></code></div></div><h2 id="route-and-router"><a href="#route-and-router" class="anchor"></a>Route and Router</h2><div class="odoc-spec"><div class="spec value" id="val-route" class="anchored"><a href="#val-route" class="anchor"></a><code><span><span class="keyword">val</span> route : <span>?method':<a href="#type-method'">method'</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-uri">uri</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-route">route</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-routes" class="anchored"><a href="#val-routes" class="anchor"></a><code><span><span class="keyword">val</span> routes : <span><span><a href="#type-method'">method'</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-uri">uri</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-route">route</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-router" class="anchored"><a href="#val-router" class="anchor"></a><code><span><span class="keyword">val</span> router : <span><span><span><span><span class="type-var">'a</span> <a href="#type-route">route</a></span> list</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-router">router</a></span></span></code></div><div class="spec-doc"><p><code>route routes</code> is a router made up of given <code>routes</code>. It is used with <code>%wtr</code> ppx.</p><pre><code>Wtr.router [%wtr &quot;/public/**&quot;] </code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-match'" class="anchored"><a href="#val-match'" class="anchor"></a><code><span><span class="keyword">val</span> match' : <span><a href="#type-method'">method'</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-router">router</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>match' method' request_target router</code> is <code>Some a</code> if <code>method'</code> and <code>request_target</code> together matches one of the routes defined in <code>router</code>. Otherwise it is None.</p></div></div><h2 id="pp"><a href="#pp" class="anchor"></a>Pretty Printers</h2><div class="odoc-spec"><div class="spec value" id="val-pp_method" class="anchored"><a href="#val-pp_method" class="anchor"></a><code><span><span class="keyword">val</span> pp_method : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-method'">method'</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_route" class="anchored"><a href="#val-pp_route" class="anchor"></a><code><span><span class="keyword">val</span> pp_route : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-route">route</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_uri" class="anchored"><a href="#val-pp_uri" class="anchor"></a><code><span><span class="keyword">val</span> pp_uri : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-uri">uri</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp" class="anchored"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-router">router</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>